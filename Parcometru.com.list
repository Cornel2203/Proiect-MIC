EMU8086 GENERATED LISTING. MACHINE CODE <- SOURCE.
 
Parcometru.com -- emu8086 assembler version: 4.08  
 
[ 11/12/2024  --  8:35:28 AM ] 
 
===================================================================================================
[LINE]     LOC: MACHINE CODE                          SOURCE
===================================================================================================
 
[   1]        :                                       name "Parcometru"
[   2]        :                                       
[   3]        :                                       org 100h
[   4]        :                                       
[   5]        :                                       .model small
[   6]        :                                       .stack 100h
[   7]    0100: E9 FD 00                              .data
[   8]    0103: 50 61 72 63 6F 6D 65 74 72 75 20 69   msg_title db "Parcometru in functiune", 0
                6E 20 66 75 6E 63 74 69 75 6E 65 00 
                                                    
[   9]    011B: 54 61 72 69 66 3A 20 00               msg_cost db "Tarif: ", 0
[  10]    0123: 30 2E 32 35 20 52 4F 4E 2F 31 35 6D   msg_15min db "0.25 RON/15min", 0
                69 6E 00                            
[  11]    0132: 30 2E 35 20 52 4F 4E 2F 33 30 6D 69   msg_30min db "0.5 RON/30min", 0
                6E 00                               
[  12]    0140: 31 2E 30 20 52 4F 4E 2F 31 20 6F 72   msg_1hr db "1.0 RON/1 ora", 0
                61 00                               
[  13]        :                                       
[  14]    014E: 4C 6F 63 75 72 69 20 6C 69 62 65 72   msg_locuri db "Locuri libere:", 0
                65 3A 00                            
[  15]    015D: 43 6F 72 70 20 41 2C 20 45 74 61 6A   msg_etaj1 db "Corp A, Etaj 1: 3 locuri", 0
                20 31 3A 20 33 20 6C 6F 63 75 72 69 
                00                                  
[  16]    0176: 43 6F 72 70 20 42 2C 20 45 74 61 6A   msg_etaj2 db "Corp B, Etaj 1: 3 locuri", 0
                20 31 3A 20 33 20 6C 6F 63 75 72 69 
                00                                  
[  17]    018F: 43 6F 72 70 20 41 2C 20 45 74 61 6A   msg_etaj3 db "Corp A, Etaj 2: 3 locuri", 0
                20 32 3A 20 33 20 6C 6F 63 75 72 69 
                00                                  
[  18]    01A8: 43 6F 72 70 20 42 2C 20 45 74 61 6A   msg_etaj4 db "Corp B, Etaj 2: 3 locuri", 0
                20 32 3A 20 33 20 6C 6F 63 75 72 69 
                00                                  
[  19]        :                                       
[  20]    01C1: 4E 72 2E 20 69 6E 6D 61 74 72 69 63   msg_input_nrinmatriculare db "Nr. inmatriculare:", 0
                75 6C 61 72 65 3A 00                
[  21]    01D4: 53 65 6C 65 63 74 61 74 69 20 63 6F   msg_input_corp db "Selectati corpul/etajul:", 0
                72 70 75 6C 2F 65 74 61 6A 75 6C 3A 
                00                                  
[  22]    01ED: 44 75 72 61 74 61 20 73 74 61 74 69   msg_input_durata db "Durata stationare:", 0
                6F 6E 61 72 65 3A 00                
[  23]        :                                       
[  24]    0200:                                       .code
[  25]    0200:                                       main proc
[  26]        :                                       ; Initializare segmente
[  27]    0200: 8C C8                                 mov ax, @data
[  28]    0202: 8E D8                                 mov ds, ax
[  29]    0204: B8 00 B8                              mov ax, 0B800h
[  30]    0207: 8E C0                                 mov es, ax
[  31]        :                                       
[  32]        :                                       ; Setare text de titlu
[  33]    0209: BF 00 00                              mov di, 0 ; Pozitia pe ecran
[  34]    020C: E8 0D 00                              call print_title
[  35]        :                                       
[  36]        :                                       ; Afisare caseta costuri
[  37]    020F: E8 2A 00                              call print_cost
[  38]        :                                       
[  39]        :                                       ; Afisare caseta locuri libere
[  40]    0212: E8 4C 00                              call print_locuri_libere
[  41]        :                                       
[  42]        :                                       ; Afisare caseta informatii parcare
[  43]    0215: E8 77 00                              call print_parcometru_info
[  44]        :                                       
[  45]        :                                       ; Terminare program
[  46]    0218: B4 4C                                 mov ah, 4Ch
[  47]    021A: CD 21                                 int 21h
[  48]        :                                       main endp
[  49]        :                                       
[  50]        :                                       ; Functie pentru afisare titlu
[  51]    021C:                                       print_title proc
[  52]    021C: B9 19 00                              mov cx, 25
[  53]    021F: BF 00 00                              mov di, 0
[  54]    0222: B0 2D                                 mov al, '-'
[  55]    0224:                                       print_top:
[  56]    0224: AB                                    stosw
[  57]    0225: E2 FD                                 loop print_top
[  58]        :                                       
[  59]    0227: BF A0 00                              mov di, 160 ; 160 offset pentru randul urmator
[  60]    022A: BE 03 01                              lea si, msg_title
[  61]    022D: E8 7B 00                              call print_string
[  62]        :                                       
[  63]    0230: BF 40 01                              mov di, 320 ; Linie de delimitare sub titlu
[  64]    0233: B9 19 00                              mov cx, 25
[  65]    0236:                                       print_bottom:
[  66]    0236: B0 2D                                 mov al, '-'
[  67]    0238: AB                                    stosw
[  68]    0239: E2 FB                                 loop print_bottom
[  69]    023B: C3                                    ret
[  70]        :                                       print_title endp
[  71]        :                                       
[  72]        :                                       ; Functie pentru afisare costuri
[  73]    023C:                                       print_cost proc
[  74]    023C: BF F4 01                              mov di, 500 ; Pozitie pe ecran
[  75]    023F: BE 1B 01                              lea si, msg_cost
[  76]    0242: E8 66 00                              call print_string
[  77]        :                                       
[  78]    0245: BF 94 02                              mov di, 660 ; A doua linie
[  79]    0248: BE 23 01                              lea si, msg_15min
[  80]    024B: E8 5D 00                              call print_string
[  81]        :                                       
[  82]    024E: BF 34 03                              mov di, 820 ; A treia linie
[  83]    0251: BE 32 01                              lea si, msg_30min
[  84]    0254: E8 54 00                              call print_string
[  85]        :                                       
[  86]    0257: BF D4 03                              mov di, 980 ; A patra linie
[  87]    025A: BE 40 01                              lea si, msg_1hr
[  88]    025D: E8 4B 00                              call print_string
[  89]    0260: C3                                    ret
[  90]        :                                       print_cost endp
[  91]        :                                       
[  92]        :                                       ; Functie pentru afisare locuri libere
[  93]    0261:                                       print_locuri_libere proc
[  94]    0261: BF B0 04                              mov di, 1200 ; Pozitie pe ecran
[  95]    0264: BE 4E 01                              lea si, msg_locuri
[  96]    0267: E8 41 00                              call print_string
[  97]        :                                       
[  98]    026A: BF 50 05                              mov di, 1360
[  99]    026D: BE 5D 01                              lea si, msg_etaj1
[ 100]    0270: E8 38 00                              call print_string
[ 101]        :                                       
[ 102]    0273: BF F0 05                              mov di, 1520
[ 103]    0276: BE 76 01                              lea si, msg_etaj2
[ 104]    0279: E8 2F 00                              call print_string
[ 105]        :                                       
[ 106]    027C: BF 90 06                              mov di, 1680
[ 107]    027F: BE 8F 01                              lea si, msg_etaj3
[ 108]    0282: E8 26 00                              call print_string
[ 109]        :                                       
[ 110]    0285: BF 30 07                              mov di, 1840
[ 111]    0288: BE A8 01                              lea si, msg_etaj4
[ 112]    028B: E8 1D 00                              call print_string
[ 113]    028E: C3                                    ret
[ 114]        :                                       print_locuri_libere endp
[ 115]        :                                       
[ 116]        :                                       ; Functie pentru afisare informatii parcare
[ 117]    028F:                                       print_parcometru_info proc
[ 118]    028F: BF 60 09                              mov di, 2400 ; Pozitie pentru numarul de inmatriculare
[ 119]    0292: BE C1 01                              lea si, msg_input_nrinmatriculare
[ 120]    0295: E8 13 00                              call print_string
[ 121]        :                                       
[ 122]    0298: BF 8C 0A                              mov di, 2700 ; Pozitie pentru selectia corpului
[ 123]    029B: BE D4 01                              lea si, msg_input_corp
[ 124]    029E: E8 0A 00                              call print_string
[ 125]        :                                       
[ 126]    02A1: BF B8 0B                              mov di, 3000 ; Pozitie pentru durata
[ 127]    02A4: BE ED 01                              lea si, msg_input_durata
[ 128]    02A7: E8 01 00                              call print_string
[ 129]    02AA: C3                                    ret
[ 130]        :                                       print_parcometru_info endp
[ 131]        :                                       
[ 132]        :                                       ; Functie generala pentru afisare sir
[ 133]    02AB:                                       print_string proc
[ 134]    02AB: B4 0E                                 mov ah, 0Eh ; Setare culoare text
[ 135]    02AD:                                       print_loop:
[ 136]    02AD: AC                                    lodsb
[ 137]    02AE: 0A C0                                 or al, al
[ 138]    02B0: 74 03                                 jz print_string_end
[ 139]    02B2: AB                                    stosw
[ 140]    02B3: EB F8                                 jmp print_loop
[ 141]    02B5:                                       print_string_end:
[ 142]    02B5: C3                                    ret
[ 143]        :                                       print_string endp
[ 144]        :                                       
[ 145]        :                                       end main
[ 146]        :                                       
[ 147]        :                                       
 
===================================================================================================
 




===================================================================================================
